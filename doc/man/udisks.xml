<refentry id="udisks.8">
  <refentryinfo>
    <title>udisks</title>
    <date>March 2008</date>
    <productname>udisks</productname>
  </refentryinfo>

  <refmeta>
    <refentrytitle>udisks</refentrytitle>
    <manvolnum>8</manvolnum>
    <refmiscinfo class="version"></refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>udisks</refname>
    <refpurpose>storage management</refpurpose>
  </refnamediv>

  <refsect1><title>DESCRIPTION</title>
    <para>
      udisks provides an interface to enumerate and perform operations
      on storage devices. Any application can access the
      <citerefentry><refentrytitle>udisksd</refentrytitle><manvolnum>8</manvolnum></citerefentry>
      daemon via the name <emphasis>org.freedesktop.UDisks2</emphasis>
      on the system message bus. Some operations (such as formatting
      disks etc.) are restricted using
      <citerefentry><refentrytitle>polkit</refentrytitle><manvolnum>8</manvolnum></citerefentry>.
    </para>
  </refsect1>

  <refsect1><title>ACCESS CONTROL</title>
    <para>
      By default, logged-in users in active log-in sessions are
      permitted to mount and unlock devices attached to the local
      console. To lock down globally, configure the
      <citerefentry><refentrytitle>polkit</refentrytitle><manvolnum>8</manvolnum></citerefentry>
      authorizations for the actions
      <literal>filesystem-mount</literal>,
      <literal>filesystem-mount-system</literal>,
      <literal>encrypted-unlock</literal> and
      <literal>encrypted-unlock-system</literal>, all in the
      <literal>org.freedesktop.udisks2</literal> namespace.
    </para>
    <para>
      Note that the actions ending in <literal>-system</literal>
      typically requires administrator authentication and are used for
      devices not considered "removable" (devices considered
      "removable" include USB attached storage, Flash media, optical
      discs etc.). The udev property <literal>UDISKS_SYSTEM</literal>
      can be used to override this on a per-device basis, see below.
    </para>
    <para>
      To lock down access on a per-device basis, use the option
      <literal>comment=udisks-auth</literal> in the
      <filename>/etc/fstab</filename> file and the option
      <literal>x-udisks-auth</literal> in the
      <filename>/etc/crypttab</filename> file.
    </para>
  </refsect1>

  <refsect1>
    <title>DEVICE INFORMATION</title>
    <para>
      On Linux, udisks relies on recent versions of
      <citerefentry><refentrytitle>udev</refentrytitle><manvolnum>7</manvolnum></citerefentry>
      and the Linux kernel. Influential device properties in the udev
      database include:
    </para>
    <variablelist>
      <varlistentry>
        <term><option>UDISKS_SYSTEM</option></term>
        <listitem>
          <para>
            If set, this overrides the value of the
            <link linkend="gdbus-property-org-freedesktop-UDisks2-Block.HintSystem">HintSystem</link> property.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>UDISKS_IGNORE</option></term>
        <listitem>
          <para>
            If set, this overrides the value of the
            <link linkend="gdbus-property-org-freedesktop-UDisks2-Block.HintIgnore">HintIgnore</link> property.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>UDISKS_AUTO</option></term>
        <listitem>
          <para>
            If set, this overrides the value of the
            <link linkend="gdbus-property-org-freedesktop-UDisks2-Block.HintAuto">HintAuto</link> property.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>UDISKS_NAME</option></term>
        <listitem>
          <para>
            The name to use for the device when presenting it in an user interface.
            This corresponds to the
            <link linkend="gdbus-property-org-freedesktop-UDisks2-Block.HintName">HintName</link> property.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>UDISKS_ICON_NAME</option></term>
        <listitem>
          <para>
            The icon to use for the device when presenting it in an user interface. If
            set, the name must adhere to the
            <ulink url="http://www.freedesktop.org/wiki/Specifications/icon-theme-spec">freedesktop.org icon theme specification</ulink>.
            This corresponds to the
            <link linkend="gdbus-property-org-freedesktop-UDisks2-Block.HintIconName">HintIconName</link> property.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>
      For media and drive identification, the output of the probers
      supplied by
      <citerefentry><refentrytitle>udev</refentrytitle><manvolnum>7</manvolnum></citerefentry>
      (such as <command>cdrom_id</command>, <command>ata_id</command> and
      <command>scsi_id</command>) are used in addition to the
      following properties:
    </para>
    <variablelist>
      <varlistentry>
        <term><option>ID_DRIVE_THUMB</option></term>
        <listitem><para>The device is a thumb-drive with non-removable media (e.g. a USB stick).
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLASH</option></term>
        <listitem><para>The device is compatible with flash.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLASH_CF</option></term>
        <listitem><para>The device is compatible with Compact Flash.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLASH_MS</option></term>
        <listitem><para>The device is compatible with Memory Stick.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLASH_SM</option></term>
        <listitem><para>The device is compatible with SmartMedia.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLASH_SD</option></term>
        <listitem><para>The device is compatible with SecureDigital.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLASH_SDHC</option></term>
        <listitem><para>The device is compatible with High-Capacity SecureDigital.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLASH_SDXC</option></term>
        <listitem><para>The device is compatible with Extended-Capacity SecureDigital.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLASH_MMC</option></term>
        <listitem><para>The device is compatible with MultiMediaCard.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLOPPY</option></term>
        <listitem><para>The device is compatible with floppy disk.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLOPPY_ZIP</option></term>
        <listitem><para>The device is compatible with Zip.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_FLOPPY_JAZ</option></term>
        <listitem><para>The device is compatible with Jaz.
        </para></listitem>
      </varlistentry>
    </variablelist>
    <para>
      While the <literal>ID_DRIVE_*</literal> properties describe what
      kind of media the drive accepts (more than one property can be
      set) and correspond to the <link
      linkend="gdbus-property-org-freedesktop-UDisks2-Drive.MediaCompatibility">MediaCompatibility</link>
      property, the <option>ID_DRIVE_MEDIA_*</option> properties
      describe the current media in a device (typically only one of
      these properties are set) and correspond to the <link
      linkend="gdbus-property-org-freedesktop-UDisks2-Drive.Media">Media</link>
      property:
    </para>
    <variablelist>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLASH</option></term>
        <listitem><para>The physical media currently inserted into the device is flash.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLASH_CF</option></term>
        <listitem><para>The physical media currently inserted into the device is Compact Flash.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLASH_MS</option></term>
        <listitem><para>The physical media currently inserted into the device is Memory Stick.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLASH_SM</option></term>
        <listitem><para>The physical media currently inserted into the device is SmartMedia.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLASH_SD</option></term>
        <listitem><para>The physical media currently inserted into the device is SecureDigital.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLASH_SDHC</option></term>
        <listitem><para>The physical media currently inserted into the device is High-Capacity SecureDigital.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLASH_SDXC</option></term>
        <listitem><para>The physical media currently inserted into the device is Extended-Capacity SecureDigital.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLASH_MMC</option></term>
        <listitem><para>The physical media currently inserted into the device is MultiMediaCard.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLOPPY</option></term>
        <listitem><para>The physical media currently inserted into the device is floppy disk.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLOPPY_ZIP</option></term>
        <listitem><para>The physical media currently inserted into the device is Zip.
        </para></listitem>
      </varlistentry>
      <varlistentry>
        <term><option>ID_DRIVE_MEDIA_FLOPPY_JAZ</option></term>
        <listitem><para>The physical media currently inserted into the device is Jaz.
        </para></listitem>
      </varlistentry>

    </variablelist>
  </refsect1>

  <refsect1><title>AUTHOR</title>
    <para>
      Written by David Zeuthen <email>zeuthen@gmail.com</email> with
      a lot of help from many others.
    </para>
  </refsect1>

  <refsect1>
    <title>BUGS</title>
    <para>
      Please send bug reports to either the distribution bug tracker
      or the upstream bug tracker at
      <ulink url="http://bugs.freedesktop.org/enter_bug.cgi?product=udisks"/>.
    </para>
  </refsect1>

  <refsect1>
    <title>SEE ALSO</title>
    <para>
      <citerefentry>
        <refentrytitle>udev</refentrytitle><manvolnum>7</manvolnum>
      </citerefentry>,
      <citerefentry>
        <refentrytitle>polkit</refentrytitle><manvolnum>8</manvolnum>
      </citerefentry>,
      <link linkend="udisksd.8"><citerefentry><refentrytitle>udisksd</refentrytitle><manvolnum>8</manvolnum></citerefentry></link>,
      <link linkend="udisksctl.1"><citerefentry><refentrytitle>udisksctl</refentrytitle><manvolnum>1</manvolnum></citerefentry></link>
    </para>
  </refsect1>
</refentry>
